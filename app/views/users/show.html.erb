<div class="viewprofile"> 
  <h2>-- My Profile --</h2>
  <div class="pic-showing">
    <% if @user.is_stylist? %>
      <% @user.images.each do |image| %>
      <div class="image-display">
        <%= link_to image_tag(image.picture.url(:thumb)), image.picture.url, rel: 'group1', :data => { :colorbox_static => true }  %>
        <div class="image-function">
          <div class="image-delete">
            <%= link_to "<span class='glyphicon glyphicon-trash' aria-hidden='true' </span>".html_safe, image_path(id: image.id), method: :delete, remote: true, class: "delete_image"%>
          </div>
          <div class="image-edit">
            <%=link_to "<span class='glyphicon glyphicon-pencil' aria-hidden='true' </span>".html_safe, edit_image_path(image) %>
          </div>
        </div>
      </div>
      <% end %>
    <% else %>
      <% Image.where(pictureuploader: @user.id).each do |image|%>
      <div class="image-display-general">
        <%= image_tag image.picture.url(:thumb) if image.picture %>
        <div class="image-delete-general">
          <%= link_to "<span class='glyphicon glyphicon-trash' aria-hidden='true' </span>".html_safe, image_path(id: image), method: :delete, remote: true, class: "delete_image-general"%>
        </div>
      </div>
      <% end %>  
    <% end %>
  </div>
</div>

<script>
  $('.image-display').mouseover(function(){
    $(this).find('.image-function').fadeIn(200);
  });
  
  $('.image-display').mouseleave(function(){
    $(this).find('.image-function').fadeOut(200);
  });
  
  $('.image-display-general').mouseover(function(){
    $(this).find('.image-delete-general').fadeIn(200);
  });
  
  $('.image-display-general').mouseleave(function(){
    $(this).find('.image-delete-general').fadeOut(200);
  });
</script>